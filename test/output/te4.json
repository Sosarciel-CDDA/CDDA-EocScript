[
  {
    "id": "update_stat",
    "type": "effect_on_condition",
    "effect": [
      {"math":["u_TStr","=","5+floor(u_strength/2)"]},
      {"math":["u_TDex","=","u_dexterity"]},
      {"math":["u_TCon","=","5+floor(u_strength/2)"]},
      {"math":["u_TMag","=","u_intelligence"]},
      {"math":["u_TWil","=","5+floor(u_perception/2)"]},
      {"math":["u_TCun","=","5+floor(u_perception/2)"]}
    ],
    "recurrence": "60 s"
  },
  {
    "id": "get_hurt_10",
    "type": "effect_on_condition",
    "effect": [
      {"u_set_hp":{"arithmetic":[{"u_val":"hp","bodypart":"head"},"-",{"const":10}]},"target_part":"head"},
      {"math":["get_hurt_10_rtn","=","123"]}
    ]
  },
  {
    "id": "print_global_val_testa",
    "type": "effect_on_condition",
    "effect": [
      {"u_message":"全局变量 testa 当前的值为 : <global_val:testa>"}
    ]
  },
  {
    "id": "fireball",
    "type": "effect_on_condition",
    "effect": [
      {"run_eocs":"get_hurt_10"},
      {"math":["b","=","get_hurt_10_rtn"]},
      {"math":["testa","=","100"]},
      {"run_eocs":"print_global_val_testa"}
    ]
  },
  {
    "id": "te4",
    "type": "effect_on_condition"
  }
]